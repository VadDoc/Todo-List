{"version":3,"sources":["components/Commons/Button.tsx","components/Commons/SingleInput.tsx","components/AddItemForm/AddItemForm.tsx","components/EditableSpan/EditableSpan.tsx","Reducers/TodoListsReducer.ts","Reducers/TasksReducer.ts","components/Task/Task.tsx","components/Todolist.tsx","App.tsx","serviceWorker.ts","Store/Store.ts","index.tsx"],"names":["Button","React","memo","callBack","props","onClick","SingleInput","title","setTitle","error","setError","type","value","onChange","e","currentTarget","onKeyPress","charCode","className","AddItemForm","addItem","buttonName","useState","callBackInput","useCallback","trim","EditableSpan","editMode","setEditMode","setValue","deActivateEditMode","onDoubleClick","onBlur","autoFocus","todolistID1","v1","todolistID2","todolistID3","todolistID4","initialState","id","filter","isDone","Task","todolistId","task","dispatch","useDispatch","removeTask","todolistID","taskId","changeTaskTitle","changeTaskTitleAC","checked","Todolist","todolist","tasks","useSelector","state","removeTodolist","addTask","addTaskAC","changeTodolistTitle","changeTodolistTitleAC","changeFilter","classNameBtn","onClickAllBtnHandler","onClickActiveBtnHandler","onClickCompletedBtnHandler","tasksForTodolist","t","MappedTasks","map","key","App","todolists","addTodolist","action","addTodolistAC","Boolean","window","location","hostname","match","rootReducer","combineReducers","f","m","stateCopy","store","createStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.c1fb8d0f.chunk.js","sourcesContent":["import React, {ButtonHTMLAttributes, DetailedHTMLProps} from \"react\";\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\ntype PropsType = DefaultButtonPropsType & {\r\n  callBack: () => void\r\n}\r\n\r\nexport const Button = React.memo(({callBack, ...props}: PropsType) => {\r\n  const onClickHandler = () => {\r\n    callBack()\r\n  }\r\n  return (\r\n    <button onClick={onClickHandler} {...props} />\r\n  )\r\n})","import React, {ChangeEvent, KeyboardEvent} from 'react';\nimport {ErrorType} from \"../AddItemForm/AddItemForm\";\n\ntype PropsType = {\n  title: string\n  setTitle: (title: string) => void\n  callBack: () => void\n  error: ErrorType\n  setError: (error: ErrorType) => void\n}\n\nexport const SingleInput = React.memo(({title, setTitle, callBack, error, setError}: PropsType) => {\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.currentTarget.value)\n  }\n  const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\n   if (error !== null) setError(null)\n    if (e.charCode === 13) {\n      callBack();\n    }\n  }\n\n  return (\n    <div>\n      <input type=\"text\"\n             value={title}\n             onChange={onChangeHandler}\n             onKeyPress={onKeyPressHandler}\n             className={error ? \"error\" : \"\"}\n      />\n      {error && <div className=\"error-message\">{error}</div>}\n    </div>\n  )\n})","import React, {useCallback, useState} from \"react\";\nimport {SingleInput} from \"../Commons/SingleInput\";\nimport {Button} from \"../Commons/Button\";\n\nexport type ErrorType = string | null\ntype PropsType = {\n  addItem: (title: string) => void\n  buttonName: string\n}\n\nexport const AddItemForm = React.memo(({addItem, buttonName}: PropsType) => {\n  const [title, setTitle] = useState<string>(\"\")\n  const [error, setError] = useState<ErrorType>(null)\n\n  const callBackInput = useCallback(() => {\n    if (title.trim() !== \"\") {\n      addItem(title.trim());\n      setTitle(\"\");\n    } else {\n      setError(\"Title is required\");\n    }\n  },[title, addItem])\n\n  return (\n    <div>\n      <SingleInput\n        callBack={callBackInput}\n        title={title}\n        setTitle={setTitle}\n        error={error}\n        setError={setError}\n      />\n      <Button callBack={callBackInput}>{buttonName}</Button>\n    </div>\n  )\n})\n","import React, {ChangeEvent, KeyboardEvent, useState} from \"react\";\n\ntype EditableSpanPropsType = {\n  title: string\n  callBack: (title: string) => void\n}\n\nexport const EditableSpan = React.memo((props: EditableSpanPropsType) => {\n  const [editMode, setEditMode] = useState(false)\n  const [value, setValue] = useState('')\n\n  const activateEditMode = () => {\n    setEditMode(true)\n    setValue(props.title)\n  }\n  const deActivateEditMode = () => setEditMode(false)\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => setValue(e.currentTarget.value)\n  const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.charCode === 13) {\n      if (value) {\n        props.callBack(value);\n        deActivateEditMode()\n      }\n    }\n  }\n\n  return (\n    editMode ?\n      <input\n        type=\"text\"\n        value={value}\n        onChange={onChange}\n        onDoubleClick={deActivateEditMode}\n        onBlur={deActivateEditMode}\n        onKeyPress={onKeyPressHandler}\n        autoFocus\n      /> :\n      <span onDoubleClick={activateEditMode}>{props.title}</span>\n  )\n})","import {v1} from \"uuid\";\n\nexport type TodolistsType = {\n  id: string, title: string, filter: FilterValuesType\n}\nexport type FilterValuesType = \"all\" | \"active\" | \"completed\";\n// export type FilterValuesType = typeof filterValues\n//\n// export const filterValues = {\n//   all: \"all\",\n//   active: \"active\",\n//   completed: \"completed\",\n// }\n\nexport const REMOVE_TODO_LIST = 'REMOVE_TODO_LIST'\nexport const ADD_TODO_LIST = 'ADD_TODO_LIST'\nconst CHANGE_TODO_LIST_TITLE = 'CHANGE_TODO_LIST_TITLE'\nconst CHANGE_FILTER = 'CHANGE_FILTER'\n\nexport const todolistID1 = v1();\nexport const todolistID2 = v1();\nexport const todolistID3 = v1();\nexport const todolistID4 = v1();\n\nconst initialState: Array<TodolistsType> = [\n  {id: todolistID1, title: 'What to learn', filter: 'all'},\n  {id: todolistID2, title: 'What to buy', filter: 'all'},\n  {id: todolistID3, title: 'What to watch', filter: 'all'},\n  {id: todolistID4, title: 'What to call', filter: 'all'},\n]\n\nexport const TodoListsReducer = (state: Array<TodolistsType> = initialState, action: ActionsType): Array<TodolistsType> => {\n  switch (action.type) {\n    case REMOVE_TODO_LIST:\n      return state.filter(f => f.id !== action.todolistID)\n    case CHANGE_TODO_LIST_TITLE:\n      return state.map(m => m.id === action.todolistID ? {...m, title: action.title} : m)\n    case CHANGE_FILTER:\n      return state.map(m => m.id === action.todolistID ? {...m, filter: action.value} : m)\n    case ADD_TODO_LIST:\n      return [{id: action.todolistID, title: action.title, filter: 'all'}, ...state]\n    default:\n      return state\n  }\n}\n\ntype ActionsType =\n  RemoveTodolistActionType\n  | ChangeTodolistTitleActionType\n  | ChangeFilterActionType\n  | AddTodolistActionType\nexport type RemoveTodolistActionType = ReturnType<typeof removeTodolistAC>\nexport type AddTodolistActionType = ReturnType<typeof addTodolistAC>\ntype ChangeTodolistTitleActionType = ReturnType<typeof changeTodolistTitleAC>\ntype ChangeFilterActionType = ReturnType<typeof changeFilterAC>\n\nexport const removeTodolistAC = (todolistID: string) => {\n  return {\n    type: REMOVE_TODO_LIST, todolistID\n  } as const\n}\nexport const changeTodolistTitleAC = (todolistID: string, title: string) => {\n  return {\n    type: CHANGE_TODO_LIST_TITLE, todolistID, title\n  } as const\n}\nexport const changeFilterAC = (todolistID: string, value: FilterValuesType) => {\n  return {\n    type: CHANGE_FILTER, todolistID, value\n  } as const\n}\nexport const addTodolistAC = (title: string) => {\n  return {\n    type: ADD_TODO_LIST, title,  todolistID: v1()\n  } as const\n}\n\n","import {v1} from \"uuid\";\nimport {\n  ADD_TODO_LIST, REMOVE_TODO_LIST,\n  todolistID1, todolistID2, todolistID3, todolistID4,\n  AddTodolistActionType, RemoveTodolistActionType\n} from \"./TodoListsReducer\";\n\nexport type TaskType = {\n  id: string\n  title: string\n  isDone: boolean\n}\nexport type TasksType = {\n  [key: string]: Array<TaskType>\n}\n\nconst REMOVE_TASK = 'REMOVE_TASK'\nconst ADD_TASK = 'ADD_TASK'\nconst CHANGE_TASK_STATUS = 'CHANGE_TASK_STATUS'\nconst CHANGE_TASK_TITLE = 'CHANGE_TASK_TITLE'\n\nconst initialState: TasksType = {\n  [todolistID1]: [\n    {id: v1(), title: \"HTML&CSS\", isDone: true},\n    {id: v1(), title: \"JS\", isDone: true},\n    {id: v1(), title: \"ReactJS\", isDone: false},\n    {id: v1(), title: \"Rest API\", isDone: false},\n    {id: v1(), title: \"GraphQL\", isDone: false},\n  ],\n  [todolistID2]: [\n    {id: v1(), title: \"Meat\", isDone: true},\n    {id: v1(), title: \"Sweets\", isDone: true},\n    {id: v1(), title: \"Sugar\", isDone: false},\n    {id: v1(), title: \"Juice\", isDone: false},\n    {id: v1(), title: \"Fruit\", isDone: false},\n  ],\n  [todolistID3]: [\n    {id: v1(), title: \"Twin Peaks\", isDone: true},\n    {id: v1(), title: \"Black Mirror\", isDone: true},\n    {id: v1(), title: \"Breaking Bad\", isDone: false},\n    {id: v1(), title: \"The Crown\", isDone: false},\n    {id: v1(), title: \"Game of Thrones\", isDone: false},\n    {id: v1(), title: \"The Office\", isDone: false},\n  ],\n  [todolistID4]: [\n    {id: v1(), title: \"Ann\", isDone: true},\n    {id: v1(), title: \"Jane\", isDone: true},\n    {id: v1(), title: \"Nick\", isDone: false},\n    {id: v1(), title: \"Kate\", isDone: false},\n    {id: v1(), title: \"Jhon\", isDone: false},\n  ]\n}\n\nexport const TasksReducer = (state: TasksType = initialState, action: ActionsType): TasksType => {\n  switch (action.type) {\n    case REMOVE_TASK:\n      return {\n        ...state,\n        [action.todolistID]: state[action.todolistID].filter(f => f.id !== action.taskId)\n      }\n    case ADD_TASK:\n      return {\n        ...state,\n        [action.todolistID]: [{id: v1(), title: action.title, isDone: false}, ...state[action.todolistID]]\n      }\n    case CHANGE_TASK_STATUS:\n      return {\n        ...state,\n        [action.todolistID]: state[action.todolistID]\n          .map(m => m.id === action.taskId ? {...m, isDone: action.isDone} : m)\n      }\n    case CHANGE_TASK_TITLE:\n      return {\n        ...state,\n        [action.todolistID]: state[action.todolistID].map(m => m.id === action.taskId ? {...m, title: action.title} : m)\n      }\n    case ADD_TODO_LIST:\n      return {\n        ...state,\n        [action.todolistID]: []\n      }\n    case REMOVE_TODO_LIST:\n      const stateCopy = {...state}\n      delete stateCopy[action.todolistID]\n      return stateCopy\n    default:\n      return state\n  }\n}\n\ntype ActionsType =\n  RemoveTaskActionType\n  | AddTaskActionType\n  | ChangeStatusActionType\n  | ChangeTaskTitleActionType\n  | AddTodolistActionType\n  | RemoveTodolistActionType\n\ntype RemoveTaskActionType = ReturnType<typeof removeTaskAC>\ntype AddTaskActionType = ReturnType<typeof addTaskAC>\ntype ChangeStatusActionType = ReturnType<typeof changeStatusAC>\ntype ChangeTaskTitleActionType = ReturnType<typeof changeTaskTitleAC>\n\nexport const removeTaskAC = (todolistID: string, taskId: string) => {\n  return {\n    type: REMOVE_TASK, todolistID, taskId\n  } as const\n}\nexport const addTaskAC = (todolistID: string, title: string) => {\n  return {\n    type: ADD_TASK, todolistID, title\n  } as const\n}\nexport const changeStatusAC = (todolistID: string, taskId: string, isDone: boolean) => {\n  return {\n    type: CHANGE_TASK_STATUS,\n    todolistID, taskId, isDone\n  } as const\n}\nexport const changeTaskTitleAC = (todolistID: string, taskId: string, title: string) => {\n  return {\n    type: CHANGE_TASK_TITLE, todolistID, taskId, title\n  } as const\n}\n","import {changeStatusAC, changeTaskTitleAC, removeTaskAC, TaskType} from \"../../Reducers/TasksReducer\";\nimport {useDispatch} from \"react-redux\";\nimport React, {ChangeEvent, useCallback} from \"react\";\nimport {EditableSpan} from \"../EditableSpan/EditableSpan\";\nimport {Button} from \"../Commons/Button\";\n\ntype PropsType = {\n  todolistId: string,\n  task: TaskType\n}\n\nexport const Task = React.memo(({todolistId, task}: PropsType) => {\n  const dispatch = useDispatch()\n\n  const removeTask = useCallback(() => {\n    dispatch(removeTaskAC(todolistId, task.id))\n  }, [dispatch, todolistId, task.id])\n  const changeTaskTitle = useCallback((title: string) => {\n    dispatch(changeTaskTitleAC(todolistId, task.id, title))\n  }, [dispatch, todolistId, task.id])\n  const onChangeInputHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    dispatch(changeStatusAC(todolistId, task.id, e.currentTarget.checked))\n  }\n\n  return (\n    <li className={task.isDone ? \"is-done\" : \"\"}>\n      <input type=\"checkbox\" onChange={onChangeInputHandler} checked={task.isDone}/>\n      <EditableSpan title={task.title} callBack={changeTaskTitle}/>\n      <Button callBack={removeTask}>x</Button>\n    </li>\n  )\n})","import React, {useCallback} from 'react';\r\nimport {Button} from \"./Commons/Button\";\r\nimport {AddItemForm} from \"./AddItemForm/AddItemForm\";\r\nimport {EditableSpan} from \"./EditableSpan/EditableSpan\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addTaskAC, TaskType} from \"../Reducers/TasksReducer\";\r\nimport {\r\n  changeFilterAC, changeTodolistTitleAC, FilterValuesType, removeTodolistAC, TodolistsType\r\n} from \"../Reducers/TodoListsReducer\";\r\nimport {RootReducerType} from \"../Store/Store\";\r\nimport {Task} from \"./Task/Task\";\r\n\r\ntype PropsType = { todolist: TodolistsType }\r\n\r\nexport const Todolist = React.memo(({todolist}: PropsType) => {\r\n  const tasks = useSelector<RootReducerType, Array<TaskType>>(state => state.tasks[todolist.id])\r\n  const dispatch = useDispatch()\r\n\r\n  const removeTodolist = useCallback(() => {\r\n    dispatch(removeTodolistAC(todolist.id))\r\n  }, [dispatch, todolist.id])\r\n  const addTask = useCallback((title: string) => {\r\n    dispatch(addTaskAC(todolist.id, title))\r\n  }, [dispatch, todolist.id])\r\n  const changeTodolistTitle = useCallback((title: string) => {\r\n    dispatch(changeTodolistTitleAC(todolist.id, title))\r\n  }, [dispatch, todolist.id])\r\n  const changeFilter = useCallback((filter: FilterValuesType) => {\r\n    dispatch(changeFilterAC(todolist.id, filter))\r\n  }, [dispatch, todolist.id])\r\n  const classNameBtn = useCallback((filter: FilterValuesType) => {\r\n    if (todolist.filter === filter) {\r\n      return \"active-filter\"\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }, [todolist.filter])\r\n\r\n  const onClickAllBtnHandler = useCallback(() => changeFilter(\"all\"), [changeFilter])\r\n  const onClickActiveBtnHandler = useCallback(() => changeFilter(\"active\"), [changeFilter])\r\n  const onClickCompletedBtnHandler = useCallback(() => changeFilter(\"completed\"), [changeFilter])\r\n\r\n  let tasksForTodolist = [...tasks];\r\n  if (todolist.filter === \"active\") {\r\n    tasksForTodolist = tasks.filter(t => !t.isDone);\r\n  }\r\n  if (todolist.filter === \"completed\") {\r\n    tasksForTodolist = tasks.filter(t => t.isDone);\r\n  }\r\n\r\n  const MappedTasks = React.memo(() => {\r\n    return (\r\n      <ul>\r\n        {tasksForTodolist.map(task =>\r\n          <Task key={task.id} todolistId={todolist.id} task={task}/>\r\n        )}\r\n      </ul>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        <EditableSpan title={todolist.title} callBack={changeTodolistTitle}/>\r\n        <Button callBack={removeTodolist}>x</Button>\r\n      </h3>\r\n      <AddItemForm addItem={addTask} buttonName={\"Add task\"}/>\r\n      <MappedTasks/>\r\n      <div>\r\n        <Button className={classNameBtn('all')} callBack={onClickAllBtnHandler}>All</Button>\r\n        <Button className={classNameBtn('active')} callBack={onClickActiveBtnHandler}>Active</Button>\r\n        <Button className={classNameBtn('completed')} callBack={onClickCompletedBtnHandler}>Completed</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n","import React, {useCallback} from 'react';\r\nimport './App.css';\r\nimport {Todolist} from './components/Todolist';\r\nimport {AddItemForm} from \"./components/AddItemForm/AddItemForm\";\r\nimport {addTodolistAC, TodolistsType,} from \"./Reducers/TodoListsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootReducerType} from \"./Store/Store\";\r\n\r\nfunction App() {\r\n  const todolists = useSelector<RootReducerType, Array<TodolistsType>>(state => state.todolists)\r\n  const dispatch = useDispatch()\r\n  const addTodolist = useCallback((title: string) => {\r\n    const action = addTodolistAC(title)\r\n    dispatch(action)\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <AddItemForm addItem={addTodolist} buttonName={'Add todolist'}/>\r\n      <div className={\"todos-wrapper\"}>\r\n        {todolists.map(todolist => <Todolist key={todolist.id} todolist={todolist}/>)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers, createStore} from \"redux\";\nimport {TasksReducer} from \"../Reducers/TasksReducer\";\nimport {TodoListsReducer} from \"../Reducers/TodoListsReducer\";\n\nexport type RootReducerType = ReturnType<typeof rootReducer>\n\nconst rootReducer = combineReducers({\n  todolists: TodoListsReducer,\n  tasks: TasksReducer\n})\n\nexport const store = createStore(rootReducer)\n\n// @ts-ignore\n// window.store = store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./Store/Store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}><App/></Provider>\r\n  , document.getElementById('root'));\r\n\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}