{"version":3,"sources":["components/Button.tsx","components/SingleInput.tsx","AddItemForm.tsx","EditableSpan.tsx","Reducers/TodoListsReducer.ts","Reducers/TasksReducer.ts","Todolist.tsx","App.tsx","serviceWorker.ts","Store/Store.ts","index.tsx"],"names":["Button","callBack","props","onClick","SingleInput","title","setTitle","error","setError","type","value","onChange","e","currentTarget","onKeyPress","charCode","className","AddItemForm","addItem","buttonName","useState","callBackInput","trim","EditableSpan","editMode","setEditMode","setValue","deActivateEditMode","onDoubleClick","onBlur","autoFocus","todolistID1","v1","todolistID2","initialState","id","filter","isDone","Todolist","todolist","tasks","useSelector","state","dispatch","useDispatch","changeFilter","todolistID","classNameButton","tasksForTodolist","t","changeTodolistTitleAC","addTaskAC","map","task","key","taskId","checked","changeTaskTitleAC","App","todolists","action","addTodolistAC","Boolean","window","location","hostname","match","rootReducer","combineReducers","f","m","stateCopy","store","createStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"kTAOaA,EAAO,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,SAAaC,EAAmB,iBAIlD,OACI,0CAAQC,QAJS,WACjBF,MAGqCC,K,OCDhCE,EAAc,SAAC,GAA6D,IAA5DC,EAA2D,EAA3DA,MAAOC,EAAoD,EAApDA,SAAUL,EAA0C,EAA1CA,SAAUM,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,SAY7D,OACE,6BACE,2BAAOC,KAAK,OACLC,MAAOL,EACPM,SAfa,SAACC,GACvBN,EAASM,EAAEC,cAAcH,QAehBI,WAZe,SAACF,GACzBJ,EAAS,MACU,KAAfI,EAAEG,UACJd,KAUOe,UAAWT,EAAQ,QAAU,KAEnCA,GAAS,yBAAKS,UAAU,iBAAiBT,KCrBnCU,EAAc,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,WACpC,EAA0BC,mBAAiB,IAA3C,mBAAOf,EAAP,KAAcC,EAAd,KACA,EAA0Bc,mBAAoB,MAA9C,mBAAOb,EAAP,KAAcC,EAAd,KAEMa,EAAgB,WACC,KAAjBhB,EAAMiB,QACRJ,EAAQb,EAAMiB,QACdhB,EAAS,KAETE,EAAS,sBAIb,OACE,6BACE,kBAAC,EAAD,CACEP,SAAUoB,EACVhB,MAAOA,EACPC,SAAUA,EACVC,MAAOA,EACPC,SAAUA,IAEZ,kBAAC,EAAD,CAAQP,SAAUoB,GAAgBF,KCzB3BI,EAAe,SAACrB,GAC3B,MAAgCkB,oBAAS,GAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KACA,EAA0BL,mBAAS,IAAnC,mBAAOV,EAAP,KAAcgB,EAAd,KAMMC,EAAqB,kBAAMF,GAAY,IAW7C,OACED,EACE,2BACEf,KAAK,OACLC,MAAOA,EACPC,SAfW,SAACC,GAAD,OAAsCc,EAASd,EAAEC,cAAcH,QAgB1EkB,cAAeD,EACfE,OAAQF,EACRb,WAjBoB,SAACF,GACN,KAAfA,EAAEG,UACAL,IACFR,EAAMD,SAASS,GACfiB,MAcAG,WAAS,IAEX,0BAAMF,cA1Be,WACvBH,GAAY,GACZC,EAASxB,EAAMG,SAwB2BH,EAAMG,Q,4BCzBvC0B,EAAcC,eACdC,EAAcD,eAErBE,EAAqC,CACzC,CAACC,GAAIJ,EAAa1B,MAAO,gBAAiB+B,OAAQ,OAClD,CAACD,GAAIF,EAAa5B,MAAO,cAAe+B,OAAQ,QCG5CF,GAAuB,mBAC1BH,EAAc,CACb,CAACI,GAAIH,eAAM3B,MAAO,WAAYgC,QAAQ,GACtC,CAACF,GAAIH,eAAM3B,MAAO,KAAMgC,QAAQ,GAChC,CAACF,GAAIH,eAAM3B,MAAO,UAAWgC,QAAQ,GACrC,CAACF,GAAIH,eAAM3B,MAAO,WAAYgC,QAAQ,GACtC,CAACF,GAAIH,eAAM3B,MAAO,UAAWgC,QAAQ,KANZ,cAQ1BJ,EAAc,CACb,CAACE,GAAIH,eAAM3B,MAAO,OAAQgC,QAAQ,GAClC,CAACF,GAAIH,eAAM3B,MAAO,SAAUgC,QAAQ,GACpC,CAACF,GAAIH,eAAM3B,MAAO,QAASgC,QAAQ,GACnC,CAACF,GAAIH,eAAM3B,MAAO,QAASgC,QAAQ,GACnC,CAACF,GAAIH,eAAM3B,MAAO,QAASgC,QAAQ,KAbV,GCNtB,SAASC,EAAT,GAA0C,IAAvBC,EAAsB,EAAtBA,SAClBC,EAAQC,aAA8C,SAAAC,GAAK,OAAIA,EAAMF,MAAMD,EAASJ,OACpFQ,EAAWC,cAWXC,EAAe,SAACT,GACpBO,EF4BK,CACLlC,KA/CkB,gBA+CGqC,WE7BGP,EAASJ,GF6BAzB,ME7BI0B,KAEjCW,EAAkB,SAACX,GACvB,OAAIG,EAASH,SAAWA,EACf,gBAEA,IAIPY,EAAgB,YAAOR,GAS3B,MAPwB,WAApBD,EAASH,SACXY,EAAmBR,EAAMJ,QAAO,SAAAa,GAAC,OAAKA,EAAEZ,WAElB,cAApBE,EAASH,SACXY,EAAmBR,EAAMJ,QAAO,SAAAa,GAAC,OAAIA,EAAEZ,WAIvC,6BACE,4BACE,kBAAC,EAAD,CAAchC,MAAOkC,EAASlC,MAAOJ,SA1Bf,SAACI,GAC3BsC,EFyBiC,SAACG,EAAoBzC,GACxD,MAAO,CACLI,KA3C2B,yBA2CGqC,aAAYzC,SE3BjC6C,CAAsBX,EAASJ,GAAI9B,OA0BxC,kBAAC,EAAD,CAAQJ,SAjCS,WACrB0C,EF2BK,CACLlC,KAxC4B,mBAwCJqC,WE5BEP,EAASJ,OAgC/B,MAEF,kBAAC,EAAD,CAAajB,QAhCD,SAACb,GACfsC,EDsEqB,SAACG,EAAoBzC,GAC5C,MAAO,CACLI,KA9Ea,WA8EGqC,aAAYzC,SCxEnB8C,CAAUZ,EAASJ,GAAI9B,KA+BCc,WAAY,aAC3C,4BAEI6B,EAAiBI,KAAI,SAAAC,GAWnB,OAAO,wBAAIC,IAAKD,EAAKlB,GAAInB,UAAWqC,EAAKhB,OAAS,UAAY,IAC5D,2BAAO5B,KAAK,WACLE,SAToB,SAACC,GDqCZ,IAACkC,EAAoBS,EAAgBlB,ECpCrDM,GDoCiBG,ECpCOP,EAASJ,GDoCIoB,ECpCAF,EAAKlB,GDoCWE,ECpCPzB,EAAEC,cAAc2C,QDqCnE,CACL/C,KAlFkB,gBAmFlBqC,aAAYS,SAAQlB,aC9BHmB,QAASH,EAAKhB,SACrB,kBAAC,EAAD,CAAchC,MAAOgD,EAAKhD,MAAOJ,SARX,SAACI,GACvBsC,EDuCmB,SAACG,EAAoBS,EAAgBlD,GACpE,MAAO,CACLI,KAvFsB,oBAuFGqC,aAAYS,SAAQlD,SCzC1BoD,CAAkBlB,EAASJ,GAAIkB,EAAKlB,GAAI9B,OAQjD,kBAAC,EAAD,CAAQJ,SAfS,WD8BH,IAAC6C,EAAoBS,EC7BnCZ,GD6BeG,EC7BOP,EAASJ,GD6BIoB,EC7BAF,EAAKlB,GD8B7C,CACL1B,KA1EgB,cA0EGqC,aAAYS,cCjBrB,UAKR,6BACE,kBAAC,EAAD,CACEvC,UAAW+B,EAAgB,OAC3B9C,SAAU,kBAAM4C,EAAa,SAF/B,OAIA,kBAAC,EAAD,CACE7B,UAAW+B,EAAgB,UAC3B9C,SAAU,kBAAM4C,EAAa,YAF/B,UAGA,kBAAC,EAAD,CACE7B,UAAW+B,EAAgB,aAC3B9C,SAAU,kBAAM4C,EAAa,eAF/B,eC3DOa,MAlBf,WACE,IAAMC,EAAYlB,aAAmD,SAAAC,GAAK,OAAIA,EAAMiB,aAC9EhB,EAAWC,cAMjB,OACE,yBAAK5B,UAAU,OACb,kBAAC,EAAD,CAAaE,QAPG,SAACb,GACnB,IAAMuD,EHgDmB,SAACvD,GAC5B,MAAO,CACLI,KAtDyB,gBAsDJJ,QAAQyC,WAAYd,gBGlD1B6B,CAAcxD,GAC7BsC,EAASiB,IAK4BzC,WAAY,iBAC/C,yBAAKH,UAAW,iBACb2C,EAAUP,KAAI,SAAAb,GAAQ,OAAI,kBAACD,EAAD,CAAUgB,IAAKf,EAASJ,GAAII,SAAUA,UCRrDuB,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,YCZAC,EAAcC,YAAgB,CAClCT,ULa8B,WAA4F,IAA3FjB,EAA0F,uDAA5DR,EAAc0B,EAA8C,uCACzH,OAAQA,EAAOnD,MACb,IAf4B,mBAgB1B,OAAOiC,EAAMN,QAAO,SAAAiC,GAAC,OAAIA,EAAElC,KAAOyB,EAAOd,cAC3C,IAf2B,yBAgBzB,OAAOJ,EAAMU,KAAI,SAAAkB,GAAC,OAAIA,EAAEnC,KAAOyB,EAAOd,WAAhB,2BAAiCwB,GAAjC,IAAoCjE,MAAOuD,EAAOvD,QAASiE,KACnF,IAhBkB,gBAiBhB,OAAO5B,EAAMU,KAAI,SAAAkB,GAAC,OAAIA,EAAEnC,KAAOyB,EAAOd,WAAhB,2BAAiCwB,GAAjC,IAAoClC,OAAQwB,EAAOlD,QAAS4D,KACpF,IApByB,gBAqBvB,MAAM,CAAE,CAACnC,GAAIyB,EAAOd,WAAYzC,MAAOuD,EAAOvD,MAAO+B,OAAQ,QAA7D,mBAAwEM,IAC1E,QACE,OAAOA,IKvBXF,MJ6B0B,WAAsE,IAArEE,EAAoE,uDAAjDR,EAAc0B,EAAmC,uCAC/F,OAAQA,EAAOnD,MACb,IAxBgB,cAyBd,OAAO,2BACFiC,GADL,kBAEGkB,EAAOd,WAAaJ,EAAMkB,EAAOd,YAAYV,QAAO,SAAAiC,GAAC,OAAIA,EAAElC,KAAOyB,EAAOL,YAE9E,IA5Ba,WA6BX,OAAO,2BACFb,GADL,kBAEGkB,EAAOd,WAFV,CAEwB,CAACX,GAAIH,eAAM3B,MAAOuD,EAAOvD,MAAOgC,QAAQ,IAFhE,mBAE2EK,EAAMkB,EAAOd,gBAE1F,IAhCkB,gBAiChB,OAAO,2BACFJ,GADL,kBAEGkB,EAAOd,WAAaJ,EAAMkB,EAAOd,YAC/BM,KAAI,SAAAkB,GAAC,OAAIA,EAAEnC,KAAOyB,EAAOL,OAAhB,2BAA6Be,GAA7B,IAAgCjC,OAAQuB,EAAOvB,SAAUiC,OAEzE,IArCsB,oBAsCpB,OAAO,2BACF5B,GADL,kBAEGkB,EAAOd,WAAaJ,EAAMkB,EAAOd,YAAYM,KAAI,SAAAkB,GAAC,OAAIA,EAAEnC,KAAOyB,EAAOL,OAAhB,2BAA6Be,GAA7B,IAAgCjE,MAAOuD,EAAOvD,QAASiE,OAElH,IDpDyB,gBCqDvB,OAAO,2BACF5B,GADL,kBAEGkB,EAAOd,WAAa,KAEzB,ID1D4B,mBC2D1B,IAAMyB,EAAS,eAAO7B,GAEtB,cADO6B,EAAUX,EAAOd,YACjByB,EACT,QACE,OAAO7B,MI3DA8B,EAAQC,YAAYN,GCHjCO,IAASC,OACP,kBAAC,IAAD,CAAUH,MAAOA,GAAO,kBAAC,EAAD,OACtBI,SAASC,eAAe,SFiItB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA7E,GACL8E,QAAQ9E,MAAMA,EAAM+E,c","file":"static/js/main.f26fa197.chunk.js","sourcesContent":["import React, {ButtonHTMLAttributes, DetailedHTMLProps} from \"react\";\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\ntype PropsType = DefaultButtonPropsType & {\r\n    callBack: () => void\r\n}\r\n\r\nexport const Button=({callBack, ...props}:PropsType)=>{\r\n    const onClickHandler=()=>{\r\n        callBack()\r\n    }\r\n    return(\r\n        <button onClick={onClickHandler} {...props} />\r\n    )\r\n}","import React, {ChangeEvent, KeyboardEvent} from 'react';\nimport {ErrorType} from \"../AddItemForm\";\n\ntype PropsType = {\n  title: string\n  setTitle: (title: string) => void\n  callBack: () => void\n  error: ErrorType\n  setError: (error: ErrorType) => void\n}\n\nexport const SingleInput = ({title, setTitle, callBack, error, setError}: PropsType) => {\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.currentTarget.value)\n  }\n\n  const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\n    setError(null);\n    if (e.charCode === 13) {\n      callBack();\n    }\n  }\n\n  return (\n    <div>\n      <input type=\"text\"\n             value={title}\n             onChange={onChangeHandler}\n             onKeyPress={onKeyPressHandler}\n             className={error ? \"error\" : \"\"}\n      />\n      {error && <div className=\"error-message\">{error}</div>}\n    </div>\n  )\n}","import React, {useState} from \"react\";\nimport {SingleInput} from \"./components/SingleInput\";\nimport {Button} from \"./components/Button\";\n\nexport type ErrorType = string | null\ntype PropsType = {\n  addItem: (title: string) => void\n  buttonName: string\n}\n\nexport const AddItemForm = ({addItem, buttonName}: PropsType) => {\n  const [title, setTitle] = useState<string>(\"\")\n  const [error, setError] = useState<ErrorType>(null)\n\n  const callBackInput = () => {\n    if (title.trim() !== \"\") {\n      addItem(title.trim());\n      setTitle(\"\");\n    } else {\n      setError(\"Title is required\");\n    }\n  }\n\n  return (\n    <div>\n      <SingleInput\n        callBack={callBackInput}\n        title={title}\n        setTitle={setTitle}\n        error={error}\n        setError={setError}\n      />\n      <Button callBack={callBackInput}>{buttonName}</Button>\n    </div>\n\n  )\n}\n","import React, {ChangeEvent, KeyboardEvent, useState} from \"react\";\n\ntype EditableSpanPropsType = {\n  title: string\n  callBack: (title: string) => void\n}\n\nexport const EditableSpan = (props: EditableSpanPropsType) => {\n  const [editMode, setEditMode] = useState(false)\n  const [value, setValue] = useState('')\n\n  const activateEditMode = () => {\n    setEditMode(true)\n    setValue(props.title)\n  }\n  const deActivateEditMode = () => setEditMode(false)\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => setValue(e.currentTarget.value)\n  const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.charCode === 13) {\n      if (value) {\n        props.callBack(value);\n        deActivateEditMode()\n      }\n    }\n  }\n\n  return (\n    editMode ?\n      <input\n        type=\"text\"\n        value={value}\n        onChange={onChange}\n        onDoubleClick={deActivateEditMode}\n        onBlur={deActivateEditMode}\n        onKeyPress={onKeyPressHandler}\n        autoFocus\n      /> :\n      <span onDoubleClick={activateEditMode}>{props.title}</span>\n  )\n}","import {v1} from \"uuid\";\n\nexport type TodolistsType = {\n  id: string, title: string, filter: FilterValuesType\n}\nexport type FilterValuesType = \"all\" | \"active\" | \"completed\";\n\nexport const REMOVE_TODO_LIST = 'REMOVE_TODO_LIST'\nexport const ADD_TODO_LIST = 'ADD_TODO_LIST'\nconst CHANGE_TODO_LIST_TITLE = 'CHANGE_TODO_LIST_TITLE'\nconst CHANGE_FILTER = 'CHANGE_FILTER'\n\nexport const todolistID1 = v1();\nexport const todolistID2 = v1();\n\nconst initialState: Array<TodolistsType> = [\n  {id: todolistID1, title: 'What to learn', filter: 'all'},\n  {id: todolistID2, title: 'What to buy', filter: 'all'},\n]\n\nexport const TodoListsReducer = (state: Array<TodolistsType> = initialState, action: ActionsType): Array<TodolistsType> => {\n  switch (action.type) {\n    case REMOVE_TODO_LIST:\n      return state.filter(f => f.id !== action.todolistID)\n    case CHANGE_TODO_LIST_TITLE:\n      return state.map(m => m.id === action.todolistID ? {...m, title: action.title} : m)\n    case CHANGE_FILTER:\n      return state.map(m => m.id === action.todolistID ? {...m, filter: action.value} : m)\n    case ADD_TODO_LIST:\n      return [{id: action.todolistID, title: action.title, filter: 'all'}, ...state]\n    default:\n      return state\n  }\n}\n\ntype ActionsType =\n  RemoveTodolistActionType\n  | ChangeTodolistTitleActionType\n  | ChangeFilterActionType\n  | AddTodolistActionType\nexport type RemoveTodolistActionType = ReturnType<typeof removeTodolistAC>\nexport type AddTodolistActionType = ReturnType<typeof addTodolistAC>\ntype ChangeTodolistTitleActionType = ReturnType<typeof changeTodolistTitleAC>\ntype ChangeFilterActionType = ReturnType<typeof changeFilterAC>\n\nexport const removeTodolistAC = (todolistID: string) => {\n  return {\n    type: REMOVE_TODO_LIST, todolistID\n  } as const\n}\nexport const changeTodolistTitleAC = (todolistID: string, title: string) => {\n  return {\n    type: CHANGE_TODO_LIST_TITLE, todolistID, title\n  } as const\n}\nexport const changeFilterAC = (todolistID: string, value: FilterValuesType) => {\n  return {\n    type: CHANGE_FILTER, todolistID, value\n  } as const\n}\nexport const addTodolistAC = (title: string) => {\n  return {\n    type: ADD_TODO_LIST, title,  todolistID: v1()\n  } as const\n}\n\n","import {v1} from \"uuid\";\nimport {\n  ADD_TODO_LIST, REMOVE_TODO_LIST, todolistID1, todolistID2,\n  AddTodolistActionType, RemoveTodolistActionType\n} from \"./TodoListsReducer\";\n\nexport type TaskType = {\n  id: string\n  title: string\n  isDone: boolean\n}\nexport type TasksType = {\n  [key: string]: Array<TaskType>\n}\n\nconst REMOVE_TASK = 'REMOVE_TASK'\nconst ADD_TASK = 'ADD_TASK'\nconst CHANGE_STATUS = 'CHANGE_STATUS'\nconst CHANGE_TASK_TITLE = 'CHANGE_TASK_TITLE'\n\nconst initialState: TasksType = {\n  [todolistID1]: [\n    {id: v1(), title: \"HTML&CSS\", isDone: true},\n    {id: v1(), title: \"JS\", isDone: true},\n    {id: v1(), title: \"ReactJS\", isDone: false},\n    {id: v1(), title: \"Rest API\", isDone: false},\n    {id: v1(), title: \"GraphQL\", isDone: false},\n  ],\n  [todolistID2]: [\n    {id: v1(), title: \"Meat\", isDone: true},\n    {id: v1(), title: \"Sweets\", isDone: true},\n    {id: v1(), title: \"Sugar\", isDone: false},\n    {id: v1(), title: \"Juice\", isDone: false},\n    {id: v1(), title: \"Fruit\", isDone: false},\n  ]\n}\n\nexport const TasksReducer = (state: TasksType = initialState, action: ActionsType): TasksType => {\n  switch (action.type) {\n    case REMOVE_TASK:\n      return {\n        ...state,\n        [action.todolistID]: state[action.todolistID].filter(f => f.id !== action.taskId)\n      }\n    case ADD_TASK:\n      return {\n        ...state,\n        [action.todolistID]: [{id: v1(), title: action.title, isDone: false}, ...state[action.todolistID]]\n      }\n    case CHANGE_STATUS:\n      return {\n        ...state,\n        [action.todolistID]: state[action.todolistID]\n          .map(m => m.id === action.taskId ? {...m, isDone: action.isDone} : m)\n      }\n    case CHANGE_TASK_TITLE:\n      return {\n        ...state,\n        [action.todolistID]: state[action.todolistID].map(m => m.id === action.taskId ? {...m, title: action.title} : m)\n      }\n    case ADD_TODO_LIST:\n      return {\n        ...state,\n        [action.todolistID]: []\n      }\n    case REMOVE_TODO_LIST:\n      const stateCopy = {...state}\n      delete stateCopy[action.todolistID]\n      return stateCopy\n    default:\n      return state\n  }\n}\n\ntype ActionsType =\n  RemoveTaskActionType\n  | AddTaskActionType\n  | ChangeStatusActionType\n  | ChangeTaskTitleActionType\n  | AddTodolistActionType\n  | RemoveTodolistActionType\n\ntype RemoveTaskActionType = ReturnType<typeof removeTaskAC>\ntype AddTaskActionType = ReturnType<typeof addTaskAC>\ntype ChangeStatusActionType = ReturnType<typeof changeStatusAC>\ntype ChangeTaskTitleActionType = ReturnType<typeof changeTaskTitleAC>\n\nexport const removeTaskAC = (todolistID: string, taskId: string) => {\n  return {\n    type: REMOVE_TASK, todolistID, taskId\n  } as const\n}\nexport const addTaskAC = (todolistID: string, title: string) => {\n  return {\n    type: ADD_TASK, todolistID, title\n  } as const\n}\nexport const changeStatusAC = (todolistID: string, taskId: string, isDone: boolean) => {\n  return {\n    type: CHANGE_STATUS,\n    todolistID, taskId, isDone\n  } as const\n}\nexport const changeTaskTitleAC = (todolistID: string, taskId: string, title: string) => {\n  return {\n    type: CHANGE_TASK_TITLE, todolistID, taskId, title\n  } as const\n}\n","import React, {ChangeEvent} from 'react';\r\nimport {Button} from \"./components/Button\";\r\nimport {AddItemForm} from \"./AddItemForm\";\r\nimport {EditableSpan} from \"./EditableSpan\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addTaskAC, changeStatusAC, changeTaskTitleAC, removeTaskAC, TaskType} from \"./Reducers/TasksReducer\";\r\nimport {\r\n  changeFilterAC, changeTodolistTitleAC, FilterValuesType,\r\n  removeTodolistAC, TodolistsType\r\n} from \"./Reducers/TodoListsReducer\";\r\nimport {RootReducerType} from \"./Store/Store\";\r\n\r\ntype PropsType = { todolist: TodolistsType }\r\n\r\nexport function Todolist({todolist}: PropsType) {\r\n  const tasks = useSelector<RootReducerType, Array<TaskType>>(state => state.tasks[todolist.id])\r\n  const dispatch = useDispatch()\r\n\r\n  const removeTodolist = () => {\r\n    dispatch(removeTodolistAC(todolist.id))\r\n  }\r\n  const addTask = (title: string) => {\r\n    dispatch(addTaskAC(todolist.id, title))\r\n  }\r\n  const changeTodolistTitle = (title: string) => {\r\n    dispatch(changeTodolistTitleAC(todolist.id, title))\r\n  }\r\n  const changeFilter = (filter: FilterValuesType) => {\r\n    dispatch(changeFilterAC(todolist.id, filter))\r\n  }\r\n  const classNameButton = (filter: FilterValuesType) => {\r\n    if (todolist.filter === filter) {\r\n      return \"active-filter\"\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  let tasksForTodolist = [...tasks];\r\n\r\n  if (todolist.filter === \"active\") {\r\n    tasksForTodolist = tasks.filter(t => !t.isDone);\r\n  }\r\n  if (todolist.filter === \"completed\") {\r\n    tasksForTodolist = tasks.filter(t => t.isDone);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        <EditableSpan title={todolist.title} callBack={changeTodolistTitle}/>\r\n        <Button callBack={removeTodolist}>x</Button>\r\n      </h3>\r\n      <AddItemForm addItem={addTask} buttonName={\"Add task\"}/>\r\n      <ul>\r\n        {\r\n          tasksForTodolist.map(task => {\r\n            const removeTask = () => {\r\n              dispatch(removeTaskAC(todolist.id, task.id))\r\n            }\r\n            const onChangeInputHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n              dispatch(changeStatusAC(todolist.id, task.id, e.currentTarget.checked))\r\n            }\r\n            const changeTaskTitle = (title: string) => {\r\n              dispatch(changeTaskTitleAC(todolist.id, task.id, title))\r\n            }\r\n\r\n            return <li key={task.id} className={task.isDone ? \"is-done\" : \"\"}>\r\n              <input type=\"checkbox\"\r\n                     onChange={onChangeInputHandler}\r\n                     checked={task.isDone}/>\r\n              <EditableSpan title={task.title} callBack={changeTaskTitle}/>\r\n              <Button callBack={removeTask}>x</Button>\r\n            </li>\r\n          })\r\n        }\r\n      </ul>\r\n      <div>\r\n        <Button\r\n          className={classNameButton('all')}\r\n          callBack={() => changeFilter(\"all\")}\r\n        >All</Button>\r\n        <Button\r\n          className={classNameButton('active')}\r\n          callBack={() => changeFilter(\"active\")}>Active</Button>\r\n        <Button\r\n          className={classNameButton('completed')}\r\n          callBack={() => changeFilter(\"completed\")}\r\n        >Completed</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport {Todolist} from './Todolist';\r\nimport {AddItemForm} from \"./AddItemForm\";\r\nimport {addTodolistAC, TodolistsType,} from \"./Reducers/TodoListsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootReducerType} from \"./Store/Store\";\r\n\r\nfunction App() {\r\n  const todolists = useSelector<RootReducerType, Array<TodolistsType>>(state => state.todolists)\r\n  const dispatch = useDispatch()\r\n  const addTodolist = (title: string) => {\r\n    const action = addTodolistAC(title)\r\n    dispatch(action)\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <AddItemForm addItem={addTodolist} buttonName={'Add todolist'}/>\r\n      <div className={\"todos-wrapper\"}>\r\n        {todolists.map(todolist => <Todolist key={todolist.id} todolist={todolist}/>)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers, createStore} from \"redux\";\nimport {TasksReducer} from \"../Reducers/TasksReducer\";\nimport {TodoListsReducer} from \"../Reducers/TodoListsReducer\";\n\nexport type RootReducerType = ReturnType<typeof rootReducer>\n\nconst rootReducer = combineReducers({\n  todolists: TodoListsReducer,\n  tasks: TasksReducer\n})\n\nexport const store = createStore(rootReducer)\n\n// @ts-ignore\n// window.store = store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./Store/Store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}><App/></Provider>\r\n  , document.getElementById('root'));\r\n\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}