(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{13:function(t,e,n){t.exports=n(22)},18:function(t,e,n){},19:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(12),o=n.n(i),r=(n(18),n(3)),l=n(4),u=(n(19),n(8)),s=["callBack"],d=function(t){var e=t.callBack,n=Object(u.a)(t,s);return c.a.createElement("button",Object.assign({onClick:function(){e()}},n))},f=function(t){var e=t.title,n=t.setTitle,a=t.callBack,i=t.error,o=t.setError;return c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:e,onChange:function(t){n(t.currentTarget.value)},onKeyPress:function(t){o(null),13===t.charCode&&a()},className:i?"error":""}),i&&c.a.createElement("div",{className:"error-message"},i))},O=function(t){var e=t.addItem,n=t.buttonName,i=Object(a.useState)(""),o=Object(l.a)(i,2),r=o[0],u=o[1],s=Object(a.useState)(null),O=Object(l.a)(s,2),b=O[0],m=O[1],T=function(){""!==r.trim()?(e(r.trim()),u("")):m("Title is required")};return c.a.createElement("div",null,c.a.createElement(f,{callBack:T,title:r,setTitle:u,error:b,setError:m}),c.a.createElement(d,{callBack:T},n))},b=function(t){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),i=n[0],o=n[1],r=Object(a.useState)(""),u=Object(l.a)(r,2),s=u[0],d=u[1],f=function(){return o(!1)};return i?c.a.createElement("input",{type:"text",value:s,onChange:function(t){return d(t.currentTarget.value)},onDoubleClick:f,onBlur:f,onKeyPress:function(e){13===e.charCode&&s&&(t.callBack(s),f())},autoFocus:!0}):c.a.createElement("span",{onDoubleClick:function(){o(!0),d(t.title)}},t.title)},m=["todolistID","tasks","changeFilter","removeTodolist","removeTask","changeTaskStatus"];function T(t){var e=t.todolistID,n=t.tasks,a=t.changeFilter,i=t.removeTodolist,o=t.removeTask,r=t.changeTaskStatus,l=Object(u.a)(t,m),s=function(t){a(e,t)},f=function(t){return l.filter===t?"active-filter":""};return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(b,{title:l.title,callBack:function(t){l.changeTodoListTitle(e,t)}}),c.a.createElement(d,{callBack:function(){i(e)}},"x")),c.a.createElement(O,{addItem:function(t){l.addTask(e,t)},buttonName:"Add task"}),c.a.createElement("ul",null,n.map((function(t){return c.a.createElement("li",{key:t.id,className:t.isDone?"is-done":""},c.a.createElement("input",{type:"checkbox",onChange:function(n){r(e,t.id,n.currentTarget.checked)},checked:t.isDone}),c.a.createElement(b,{title:t.title,callBack:function(n){l.changeTaskTitle(e,t.id,n)}}),c.a.createElement(d,{callBack:function(){o(e,t.id)}},"x"))}))),c.a.createElement("div",null,c.a.createElement(d,{className:f("all"),callBack:function(){return s("all")}},"All"),c.a.createElement(d,{className:f("active"),callBack:function(){return s("active")}},"Active"),c.a.createElement(d,{className:f("completed"),callBack:function(){return s("completed")}},"Completed")))}var D=n(2),E=n(7),j=n(1),v=function(t,e){switch(e.type){case"REMOVE_TASK":return Object(j.a)(Object(j.a)({},t),{},Object(r.a)({},e.todolistID,t[e.todolistID].filter((function(t){return t.id!==e.taskId}))));case"ADD_TASK":return Object(j.a)(Object(j.a)({},t),{},Object(r.a)({},e.todolistID,[{id:Object(D.v1)(),title:e.title,isDone:!1}].concat(Object(E.a)(t[e.todolistID]))));case"CHANGE_STATUS":return Object(j.a)(Object(j.a)({},t),{},Object(r.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.taskId?Object(j.a)(Object(j.a)({},t),{},{isDone:e.isDone}):t}))));case"CHANGE_TASK_TITLE":return Object(j.a)(Object(j.a)({},t),{},Object(r.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.taskId?Object(j.a)(Object(j.a)({},t),{},{title:e.title}):t}))));case"ADD_EMPTY_ARRAY_INSTEAD_TASK":return Object(j.a)(Object(j.a)({},t),{},Object(r.a)({},e.todolist.id,[]));default:return t}},I=function(t,e){switch(e.type){case"REMOVE_TODO_LIST":return t.filter((function(t){return t.id!==e.todolistID}));case"CHANGE_TODO_LIST_TITLE":return t.map((function(t){return t.id===e.todolistID?Object(j.a)(Object(j.a)({},t),{},{title:e.title}):t}));case"CHANGE_FILTER":return t.map((function(t){return t.id===e.todolistID?Object(j.a)(Object(j.a)({},t),{},{filter:e.value}):t}));case"ADD_TODO_LIST":return[e.todolist].concat(Object(E.a)(t));default:return t}};var k=function(){var t,e=Object(D.v1)(),n=Object(D.v1)(),i=Object(a.useReducer)(I,[{id:e,title:"What to learn",filter:"all"},{id:n,title:"What to buy",filter:"all"}]),o=Object(l.a)(i,2),u=o[0],s=o[1],d=Object(a.useReducer)(v,(t={},Object(r.a)(t,e,[{id:Object(D.v1)(),title:"HTML&CSS",isDone:!0},{id:Object(D.v1)(),title:"JS",isDone:!0},{id:Object(D.v1)(),title:"ReactJS",isDone:!1},{id:Object(D.v1)(),title:"Rest API",isDone:!1},{id:Object(D.v1)(),title:"GraphQL",isDone:!1}]),Object(r.a)(t,n,[{id:Object(D.v1)(),title:"HTML&CSS2",isDone:!0},{id:Object(D.v1)(),title:"JS2",isDone:!0},{id:Object(D.v1)(),title:"ReactJS2",isDone:!1},{id:Object(D.v1)(),title:"Rest API2",isDone:!1},{id:Object(D.v1)(),title:"GraphQL2",isDone:!1}]),t)),f=Object(l.a)(d,2),b=f[0],m=f[1],E=function(t){s(function(t){return{type:"REMOVE_TODO_LIST",todolistID:t}}(t))};function j(t,e){s(function(t,e){return{type:"CHANGE_TODO_LIST_TITLE",todolistID:t,title:e}}(t,e))}function k(t,e){m(function(t,e){return{type:"REMOVE_TASK",todolistID:t,taskId:e}}(t,e))}function p(t,e){m(function(t,e){return{type:"ADD_TASK",todolistID:t,title:e}}(t,e))}function A(t,e,n){m(function(t,e,n){return{type:"CHANGE_STATUS",todolistID:t,taskId:e,isDone:n}}(t,e,n))}function h(t,e){s(function(t,e){return{type:"CHANGE_FILTER",todolistID:t,value:e}}(t,e))}function S(t,e,n){m(function(t,e,n){return{type:"CHANGE_TASK_TITLE",todolistID:t,taskId:e,title:n}}(t,e,n))}return c.a.createElement("div",{className:"App"},c.a.createElement(O,{addItem:function(t){var e={id:Object(D.v1)(),title:t,filter:"all"};s(function(t){return{type:"ADD_TODO_LIST",todolist:t}}(e)),m(function(t){return{type:"ADD_EMPTY_ARRAY_INSTEAD_TASK",todolist:t}}(e))},buttonName:"Add todolist"}),c.a.createElement("div",{className:"todos-wrapper"},u.map((function(t){var e=b[t.id];return"active"===t.filter&&(e=b[t.id].filter((function(t){return!t.isDone}))),"completed"===t.filter&&(e=b[t.id].filter((function(t){return t.isDone}))),c.a.createElement(T,{key:t.id,todolistID:t.id,removeTodolist:E,title:t.title,tasks:e,removeTask:k,changeFilter:h,addTask:p,changeTaskStatus:A,filter:t.filter,changeTaskTitle:S,changeTodoListTitle:j})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.bba4f44a.chunk.js.map