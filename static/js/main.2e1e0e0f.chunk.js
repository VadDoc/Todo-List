(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{17:function(t,e,a){t.exports=a(30)},22:function(t,e,a){},23:function(t,e,a){},30:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),l=a(7),o=a.n(l),r=(a(22),a(23),a(4)),i=a(16),u=["callBack"],s=function(t){var e=t.callBack,a=Object(i.a)(t,u);return c.a.createElement("button",Object.assign({onClick:function(){e()}},a))},d=a(5),b=function(t){var e=t.title,a=t.setTitle,n=t.callBack,l=t.error,o=t.setError;return c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:e,onChange:function(t){a(t.currentTarget.value)},onKeyPress:function(t){o(null),13===t.charCode&&n()},className:l?"error":""}),l&&c.a.createElement("div",{className:"error-message"},l))},O=c.a.memo((function(t){var e=t.addItem,a=t.buttonName;console.log("Add item");var l=Object(n.useState)(""),o=Object(d.a)(l,2),r=o[0],i=o[1],u=Object(n.useState)(null),O=Object(d.a)(u,2),m=O[0],f=O[1],E=function(){""!==r.trim()?(e(r.trim()),i("")):f("Title is required")};return c.a.createElement("div",null,c.a.createElement(b,{callBack:E,title:r,setTitle:i,error:m,setError:f}),c.a.createElement(s,{callBack:E},a))})),m=c.a.memo((function(t){console.log("EditableSpan");var e=Object(n.useState)(!1),a=Object(d.a)(e,2),l=a[0],o=a[1],r=Object(n.useState)(""),i=Object(d.a)(r,2),u=i[0],s=i[1],b=function(){return o(!1)};return l?c.a.createElement("input",{type:"text",value:u,onChange:function(t){return s(t.currentTarget.value)},onDoubleClick:b,onBlur:b,onKeyPress:function(e){13===e.charCode&&u&&(t.callBack(u),b())},autoFocus:!0}):c.a.createElement("span",{onDoubleClick:function(){o(!0),s(t.title)}},t.title)})),f=a(2),E=a(3),j=a(1),D=a(9),k=[],I={},v=c.a.memo((function(t){var e=t.todolistId,a=t.task,l=Object(f.b)(),o=Object(n.useCallback)((function(){var t,n;l((t=e,n=a.id,{type:"REMOVE_TASK",todolistID:t,taskId:n}))}),[l,e,a.id]),r=Object(n.useCallback)((function(t){l(function(t,e,a){return{type:"CHANGE_TASK_TITLE",todolistID:t,taskId:e,title:a}}(e,a.id,t))}),[l,e,a.id]);return c.a.createElement("li",{key:a.id,className:a.isDone?"is-done":""},c.a.createElement("input",{type:"checkbox",onChange:function(t){var n,c,o;l((n=e,c=a.id,o=t.currentTarget.checked,{type:"CHANGE_TASK_STATUS",todolistID:n,taskId:c,isDone:o}))},checked:a.isDone}),c.a.createElement(m,{title:a.title,callBack:r}),c.a.createElement(s,{callBack:o},"x"))})),T=c.a.memo((function(t){var e=t.todolist;console.log("add Todolist");var a=Object(f.c)((function(t){return t.tasks[e.id]})),l=Object(f.b)(),o=Object(n.useCallback)((function(){l({type:"REMOVE_TODO_LIST",todolistID:e.id})}),[l,e.id]),i=Object(n.useCallback)((function(t){l(function(t,e){return{type:"ADD_TASK",todolistID:t,title:e}}(e.id,t))}),[l,e.id]),u=Object(n.useCallback)((function(t){l(function(t,e){return{type:"CHANGE_TODO_LIST_TITLE",todolistID:t,title:e}}(e.id,t))}),[l,e.id]),d=Object(n.useCallback)((function(t){l({type:"CHANGE_FILTER",todolistID:e.id,value:t})}),[l,e.id]),b=Object(n.useCallback)((function(t){return e.filter===t?"active-filter":""}),[e.filter]),E=Object(n.useCallback)((function(){return d("all")}),[d]),j=Object(n.useCallback)((function(){return d("active")}),[d]),D=Object(n.useCallback)((function(){return d("completed")}),[d]),k=Object(r.a)(a);"active"===e.filter&&(k=a.filter((function(t){return!t.isDone}))),"completed"===e.filter&&(k=a.filter((function(t){return t.isDone})));var I=c.a.memo((function(){return c.a.createElement("ul",null,k.map((function(t){return c.a.createElement(v,{key:t.id,todolistId:e.id,task:t})})))}));return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(m,{title:e.title,callBack:u}),c.a.createElement(s,{callBack:o},"x")),c.a.createElement(O,{addItem:i,buttonName:"Add task"}),c.a.createElement(I,null),c.a.createElement("div",null,c.a.createElement(s,{className:b("all"),callBack:E},"All"),c.a.createElement(s,{className:b("active"),callBack:j},"Active"),c.a.createElement(s,{className:b("completed"),callBack:D},"Completed")))}));var p=function(){var t=Object(f.c)((function(t){return t.todolists})),e=Object(f.b)(),a=Object(n.useCallback)((function(t){var a=function(t){return{type:"ADD_TODO_LIST",title:t,todolistID:Object(D.v1)()}}(t);e(a)}),[e]);return console.log("add App"),c.a.createElement("div",{className:"App"},c.a.createElement(O,{addItem:a,buttonName:"Add todolist"}),c.a.createElement("div",{className:"todos-wrapper"},t.map((function(t){return c.a.createElement(T,{key:t.id,todolist:t})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(12),A=Object(_.a)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE_TODO_LIST":return t.filter((function(t){return t.id!==e.todolistID}));case"CHANGE_TODO_LIST_TITLE":return t.map((function(t){return t.id===e.todolistID?Object(j.a)(Object(j.a)({},t),{},{title:e.title}):t}));case"CHANGE_FILTER":return t.map((function(t){return t.id===e.todolistID?Object(j.a)(Object(j.a)({},t),{},{filter:e.value}):t}));case"ADD_TODO_LIST":return[{id:e.todolistID,title:e.title,filter:"all"}].concat(Object(r.a)(t));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE_TASK":return Object(j.a)(Object(j.a)({},t),{},Object(E.a)({},e.todolistID,t[e.todolistID].filter((function(t){return t.id!==e.taskId}))));case"ADD_TASK":return Object(j.a)(Object(j.a)({},t),{},Object(E.a)({},e.todolistID,[{id:Object(D.v1)(),title:e.title,isDone:!1}].concat(Object(r.a)(t[e.todolistID]))));case"CHANGE_TASK_STATUS":return Object(j.a)(Object(j.a)({},t),{},Object(E.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.taskId?Object(j.a)(Object(j.a)({},t),{},{isDone:e.isDone}):t}))));case"CHANGE_TASK_TITLE":return Object(j.a)(Object(j.a)({},t),{},Object(E.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.taskId?Object(j.a)(Object(j.a)({},t),{},{title:e.title}):t}))));case"ADD_TODO_LIST":return Object(j.a)(Object(j.a)({},t),{},Object(E.a)({},e.todolistID,[]));case"REMOVE_TODO_LIST":var a=Object(j.a)({},t);return delete a[e.todolistID],a;default:return t}}}),C=Object(_.b)(A);o.a.render(c.a.createElement(f.a,{store:C},c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.2e1e0e0f.chunk.js.map